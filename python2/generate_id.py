# -*- coding:utf-8 -*-
"""
511100	四川省乐山市
511102	四川省乐山市市中区
511111	四川省乐山市沙湾区
511112	四川省乐山市五通桥区
511113	四川省乐山市金口河区
511123	四川省乐山市犍为县
511124	四川省乐山市井研县
511126	四川省乐山市夹江县
511129	四川省乐山市沐川县
511132	四川省乐山市峨边彝族自治县
511133	四川省乐山市马边彝族自治县
511181	四川省乐山市峨眉山市
511101	四川省乐山市市辖区

1、号码的结构:公民身份号码是特征组合码，由十七位数字本体码和一位校验码组成。排列顺序从左至右依次为：六位数字地址码，八位数字出生日期码，三位数字顺序码和一位数字校验码。
　　2、地址码:表示编码对象常住户口所在县(市、旗、区)的行政区划代码，按GB/T2260的规定执行。
　　3、出生日期码:表示编码对象出生的年、月、日，按GB/T7408的规定执行，年、月、日代码之间不用分隔符。
　　4、顺序码:表示在同一地址码所标识的区域范围内，对同年、同月、同日出生的人编定的顺序号，顺序码的奇数分配给男性，偶数分配给女性。
　　5、校验码

摘自: http://www.d777.com/shenfenzheng/511100/
"""
"""
51112319890922347
"""
import calendar

def verify(id):
	pass

def calc_last_digit(id_17):
	w_i = [7 ,9 ,10 ,5 ,8 ,4, 2, 1, 6, 3 ,7, 9, 10, 5, 8, 4, 2]
	validate = ['1','0','X','9','8','7','6','5','4','3','2']
	id_dict = zip(id_17,w_i)
	temp_sum = 0
	for k,v in id_dict:
		temp_sum = temp_sum + int(k) * v
	return validate[temp_sum % 11]

def generate(region, year, month, sex=0):
	# 倒数第二位的数字，区分男女
	odd_10 = range(1,10,2)
	even_10 = range(0,10,2)

	# 15 16 位的数字 顺序位
	sequence_2 = [str(x) for x in range(0,100)]
	for x in range(0,len(sequence_2)):
		if len(sequence_2[x]) == 1:
			sequence_2[x] = '0' + sequence_2[x]
			
	

	days = [str(x) for x in range(1,calendar.monthrange(int(year),int(month))[1]+1)]
	for i in range(0,len(days)):
		if len(days[i]) == 1:
			days[i] = '0' + days[i]
	# print days
	
	birthday_list = [year + month + d for d in days]
	
	if sex == 0:
		for i in birthday_list:
			for j in sequence_2:
				for x in odd_10:
					seq17 = region + i + j + str(x)
					print seq17 + calc_last_digit(seq17)
	else:
		for i in birthday_list:
			for j in sequence_2:
				for x in even_10:
					seq17 = region + i + j + str(x)
					print seq17 + calc_last_digit(seq17)
generate("450405", '1980', '06', 1)
